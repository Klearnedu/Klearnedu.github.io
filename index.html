<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>パスワード保護ページ</title>

<style>
:root{
  --bg:#ffffff;
  --card:#ffffff;
  --accent:#2563eb;
  --text:#111827;
  --sub:#6b7280;
  --danger:#dc2626;
  --border:#e5e7eb;
}

*{box-sizing:border-box}
html,body{height:100%}

body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,
    "Hiragino Kaku Gothic ProN","Noto Sans JP",sans-serif;
  background:var(--bg);
  color:var(--text);
  display:flex;
  justify-content:center;
  padding:60px 24px;
}

/* 全体ラッパー */
.wrapper{
  width:100%;
  max-width:520px;
  display:flex;
  flex-direction:column;
  gap:40px;
}

/* カード共通 */
.card{
  width:100%;
  background:var(--card);
  border-radius:14px;
  padding:28px;
  border:1px solid var(--border);
  box-shadow:0 10px 30px rgba(0,0,0,0.08);
}

/* 見出し */
h1,h2{
  margin-top:0;
  text-align:center;
}

h1{
  font-size:20px;
  margin-bottom:8px;
}

h2{
  font-size:20px;
  margin-bottom:20px;
}

/* パスワード */
p.lead{
  margin:0 0 18px;
  color:var(--sub);
  font-size:14px;
  text-align:center;
}

form{
  display:flex;
  flex-direction:column;
  gap:12px;
}

input[type="password"]{
  padding:12px 14px;
  border-radius:10px;
  border:1px solid var(--border);
  font-size:15px;
  outline:none;
}

input[type="password"]:focus{
  border-color:var(--accent);
  box-shadow:0 0 0 3px rgba(37,99,235,0.15);
}

.actions{
  display:flex;
  align-items:center;
}

.btn{
  padding:10px 16px;
  border-radius:10px;
  background:var(--accent);
  color:#fff;
  font-weight:600;
  border:none;
  cursor:pointer;
  font-size:15px;
  box-shadow:0 6px 16px rgba(37,99,235,0.25);
}

.message{
  min-height:20px;
  font-size:14px;
  margin-left:8px;
}

.message.error{ color:#dc2626; }
.message.success{ color:#16a34a; }

/* 禁止事項 */
.rules-content{
  font-size:14px;
  line-height:1.9;
  color:#374151;
}

.rules-content p{
  margin-bottom:18px;
}

.rules-list{
  padding-left:20px;
  margin-bottom:22px;
}

.rules-list li{
  margin-bottom:10px;
}

.agreement{
  margin-top:24px;
  padding-top:16px;
  border-top:1px solid #e5e7eb;
  font-weight:600;
  text-align:center;
}
</style>
</head>

<body>

<div class="wrapper">

  <!-- 禁止事項カード（上） -->
  <div class="card rules">
    <h2>禁止事項</h2>

    <div class="rules-content">
      <p>
        　学校教育や個人利用の範囲においては、著作権法に基づき、
        一定の条件のもとで著作物の複製が認められています。
      </p>

      <p>（参考：文化庁「著作物が自由に使える場合」）</p>

      <p>
        本団体の活動は営利目的ではなく、すでに正規に教材を所持している生徒に対する
        教育支援を目的として、教材の一部をデータ化し活用するものです。
        また、閲覧にはパスワード認証を設け、関係者以外がアクセスできないよう管理を行っています。
      </p>

      <p>本サイトをご利用の際は、以下の事項を必ずお守りください。</p>

      <ul class="rules-list">
        <li>パスワードを第三者と共有しないこと</li>
        <li>掲載資料を第三者へ共有、転載、再配布しないこと</li>
        <li>内容を許可なく複製、公開、転用しないこと</li>
        <li>営利目的で利用しないこと</li>
        <li>SNSや外部サイトへ投稿しないこと</li>
        <li>不正アクセスや不正取得を行わないこと</li>
        <li>利用資格のない者に閲覧させないこと</li>
        <li>著作権者の権利を侵害する行為を行わないこと</li>
        <li>許可なく改変・編集しないこと</li>
      </ul>

      <p>
        本サイトは、著作権法その他の法令を尊重し、教育支援を目的として適切な範囲内で運営しております。
        円滑かつ継続的な運営のため、本規約の趣旨をご理解のうえ、遵守およびご協力をお願いします。
      </p>
      
      <p class="agreement">
        本サイトを利用した時点で、本規約に同意したものとみなします。
      </p>
    </div>
  </div>

  <!-- パスワードカード（下） -->
  <div class="card">
    <h1>この先はパスワードが必要です</h1>
    <p class="lead">パスワードを入力してください。</p>

    <form id="pwForm" autocomplete="off" onsubmit="return false;">
      <input id="pw" type="password" placeholder="パスワードを入力" required />
      <div class="actions">
        <button id="submitBtn" class="btn" type="submit">送信</button>
        <div id="msg" class="message"></div>
      </div>
    </form>
  </div>

</div>

<script>
(() => {
  const PASSWORD = 'klearn13';
  const redirectUrl = 'https://Klearnedu.github.io/home';

  const input = document.getElementById('pw');
  const msg = document.getElementById('msg');
  const btn = document.getElementById('submitBtn');

  function showMessage(text, ok = false){
    msg.textContent = text;
    msg.className = "message " + (ok ? "success" : "error");
  }

  function wrong(){
    showMessage('パスワードが違います');
    input.value = '';
    input.focus();
  }

  function correct(){
    showMessage('認証に成功しました。移動します…', true);
    setTimeout(() => {
      location.href = redirectUrl;
    }, 500);
  }

  function tryPassword(){
    const val = input.value.trim();
    if(!val){
      showMessage('パスワードを入力してください');
      return;
    }
    val === PASSWORD ? correct() : wrong();
  }

  btn.addEventListener('click', tryPassword);
  input.addEventListener('keydown', e => {
    if(e.key === 'Enter') tryPassword();
  });

  input.focus();
})();
</script>

</body>
</html>
